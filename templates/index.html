<!DOCTYPE html>
<html>
<head>
    <title>Speech Scoring</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>Speech Scoring App</h1>

        <textarea id="textInput" rows="10" placeholder="Enter your speech..."></textarea>
        <input type="number" id="wpmInput" placeholder="Words per minute" value="120">
        <button onclick="sendScore()">Submit</button>

        <div id="result" style="margin-top:20px;">
            <h2>Total Score: <span id="totalScore">-</span>/100</h2>
            <pre id="output"></pre>
        </div>
    </div>

    <script>
        function sendScore() {
            const text = document.getElementById("textInput").value;
            const wpm = parseInt(document.getElementById("wpmInput").value);

            fetch("/score", {
                method:"POST",
                headers:{"Content-Type":"application/json"},
                body: JSON.stringify({text:text, wpm:wpm})
            })
            .then(res=>res.json())
            .then(data=>{
                document.getElementById("totalScore").textContent = data.overall;
                document.getElementById("output").textContent=JSON.stringify(data,null,2);
            })
            .catch(err=>console.error(err));
        }
    </script>
</body>
</html>
